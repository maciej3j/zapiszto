{% extends "base.html" %}
{% load static %}

{% block title %}Zapisz to!{% endblock %}

{% block content %}
<div class="main-content no-header">
  <div class="home-flex full-height">
    <!-- Lewa kolumna: Aktualności i ogłoszenia -->
    <div class="home-left flat">
      <h2>Aktualności i ogłoszenia</h2>
      <div class="announcement-list">
        {% if announcements %}
          {% for ann in announcements %}
            <div class="announcement-card {{ ann.category }}">
              <div class="announcement-icon">
                <i class="{{ ann.icon }}"></i>
              </div>
              <div class="announcement-text">
                <h3>{{ ann.title }}</h3>
                <p>{{ ann.description }}</p>
                <span class="meta">{{ ann.category_display }} • {{ ann.date }}</span>
              </div>
            </div>
          {% endfor %}
        {% else %}
          <p>Brak ogłoszeń.</p>
        {% endif %}
      </div>
    </div>

    <!-- Prawa kolumna: Nadchodzące wydarzenia -->
    <div class="home-right flat">
      <h2>Nadchodzące wydarzenia</h2>
      {% if enrolled_events %}
        <div class="event-list">
          {% for event in enrolled_events %}
            <div class="event-card">
              <div class="event-info">
                <i class="fa-solid fa-calendar-day event-icon"></i>
                <div class="event-details">
                  <strong>{{ event.title }}</strong>
                  <span>{{ event.date }}, {{ event.time }}</span>
                </div>
              </div>
              <span class="badge">Zapisany</span>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <p>Nie zapisałeś się na żadne wydarzenia.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}

